# r003ab-backend
Репозиторий бэкенда на Express.js для проектов сайта вариантов "a" и "b". 
В этих проектах фронтенд и бэкенд используют одно доменное имя.
В этих проектах фронтенд (статика index.html) раздается через nginx. 
Вариант фронтенда "a" использует стандартную отправку формы на бэкенд.
Для варианта фронтенда "b" пишется код (script.js) для отправки формы на бэкенд.
**********************************************************************
По файлу package.json устанавливаются все зависимости командой:
npm install
**********************************************************************
Автоматизация деплоя через Actions в папке .github/workflows. Автоматизация в плейбуке в файле bmywf.yml. Необходимо задать переменные (env), определяющие сайт, например: SERVER_HOST: '85.28.47.165' SERVER_USER: root SERVER_PATH: /var/www/trur/ А также установить приватный ключ (secrets.PKEY), который сопряжен с публичным ключом, лежащим на сервере в файле authorized_keys. Для установки приватного ключа (дать имя PKEY), нужно перейти в раздел репозитория Settings -> Security -> Secret and variables -> Actions -> Secrets -> Repository secrets -> New repository secret. Даем имя (PKEY), вставляем приватный ключ и сохраняем (add secret). 
**********************************************************************
ВНИМАНИЕ! 
1) Автоматизация вызовет ошибку, если на сервере не установлен rsync.
2) Автоматизация вызовет ошибку, если на сервере не установлен pm2.